# Tasks: Killing Commendatore

- [x] **Project Setup** <!-- id: 0 -->
    - [x] Create `index.html` and `style.css` (No Build Tool) <!-- id: 1 -->
    - [x] Set up basic HTML/CSS structure (Dark/Noir theme) <!-- id: 2 -->
    - [x] Create core game loop state machine (Phase Manager) <!-- id: 3 -->

- [ ] **Core Systems: Data & State** <!-- id: 4 -->
    - [ ] Define `Card` and `Unit` data structures <!-- id: 5 -->
    - [ ] Define `Knight` (Enemy) AI and stats structure <!-- id: 6 -->
    - [ ] Implement `GameState` (Resources, Turn, HP) <!-- id: 7 -->

- [x] **System: Dialogue & Narrative** <!-- id: 8 -->
    - [x] Implement `DialogueManager` (Script parser, UI overlay) <!-- id: 9 -->
    - [x] Create initial story script (Intro) <!-- id: 10 -->

- [x] **System: Deck Building & Shop** <!-- id: 11 -->
    - [x] Implement `CardManager` (Deck, Hand, Discard) <!-- id: 12 -->
    - [ ] Create Shop UI and purchase logic <!-- id: 13 -->

- [x] **System: Waiting Room (Preparation Phase)** <!-- id: 24 -->
    - [x] Implement `PreparationState` in GameManager <!-- id: 25 -->
    - [x] Create **Enemy Preview UI** (Knight party stats) <!-- id: 26 -->
    - [x] Create **Deck Manager UI** (View/Edit Deck) <!-- id: 27 -->
    - [ ] Create **Crafting/Upgrade UI** (Combine cards) <!-- id: 28 -->

- [ ] **System: Dungeon & Placement Phase** <!-- id: 14 -->
    - [ ] Create Dungeon Grid/Layout visuals <!-- id: 15 -->
    - [ ] Implement Unit/Trap placement logic <!-- id: 16 -->

- [ ] **System: Combat Phase** <!-- id: 17 -->
    - [ ] Implement Turn-based Auto-Battle logic <!-- id: 18 -->
    - [ ] Implement Knight AI (Movement, Attack, Special) <!-- id: 19 -->
    - [ ] Implement Player Intervention (Spells/Command Cards) <!-- id: 20 -->

- [ ] **Visuals & Polish** <!-- id: 21 -->
    - [ ] Apply "Reverse Dungeon" aesthetic (Gloomy, Magical) <!-- id: 22 -->
    - [ ] Add sound effects and visual feedback <!-- id: 23 -->
